Здесь реализован вариант без произвольной разметки внутри тегов.
Будем считать, что для текста объявления достаточно разбиения на параграфы без заголовков,
а внутри параграфов содердится простой текст либо текст в HTML-разметке, обёрнутый в <![CDATA[]]>.

Запуск:
xsltproc --param id "'1'" --output out.html transform.xsl messages.xml